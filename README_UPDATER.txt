# ğŸš¨ FINAL MASTER README â€” LIBERTY AI TRADE UPDATER SYSTEM

### VERSION: LOCKED â€¢ ZERO-TOLERANCE â€¢ DO NOT MODIFY
### DATE: 12-10-2025

------------------------------------------------------------
# âš ï¸ SECTION 0 â€” ABSOLUTE GOVERNING LAW
------------------------------------------------------------

This README is the **master authority** over the Liberty AI Trade Updater System.

Every updater module, helper script, bulk generator, developer action, and file operation **must obey every rule** defined here.

## ğŸš¨ ZERO INTERPRETATION ALLOWED

Any updater behavior not explicitly permitted in this README is **strictly forbidden**.

## ğŸš¨ ZERO TOLERANCE

Any violation immediately invalidates the update cycle and must be treated as a **system failure**.

***NO PARTIAL FIXES OR SCRIPTS, NO INDIVIDUAL FILES ONLY BULK_UPDATE.PY***
"BULK" = BULK_UPDATE.PY

------------------------------------------------------------
# âš™ï¸ RUNNING THE UPDATER
------------------------------------------------------------

You must run the updater **ONLY** from the root project folder:

`Liberty AI Trade/`

### Supported Commands:

```bash
python update_engine/updater_core/update_manager.py --force
````

```bash
python -m update_engine.updater_core.update_manager --force
```

### Alternative Using Batch File:

```bash
run_updater.bat
```

## Prerequisites

Both commands work **ONLY IF**:

* `update_engine/__init__.py` exists
* `update_engine/updater_core/__init__.py` exists

If you see `ImportError` or `ModuleNotFoundError`, check:

1. You are running from the **root folder** (not from inside `updater_core`)
2. All `__init__.py` files are present
3. On Windows, VSCode is run as **Administrator** if needed (for permissions)

If you modify updater scripts directly or move folders, you **must** revalidate the structure against this README before running updates.

---

# âš ï¸ SECTION 1 â€” LIVE FOLDER PROTECTION (UNBREAKABLE)

---

The following directories are **READ-ONLY** for all tools, scripts, and manual edits:

```text
Frontend/
Backend/
```

The **ONLY EXCEPTIONS** (allowed updater write zones) are:

```text
Frontend/logs/      # Updater-created log files
Backend/backups/    # Updater-created ZIP backups
```

No script or manual action may **EVER**:

* Write new files
* Modify existing files
* Delete files
* Rename files
* Move files

inside `Frontend/` or `Backend/` **outside** of these two write zones.

The **only** component that may write to live code folders is `sync_logic.py`, and even then it must:

* Copy files **FROM** `update_engine/updates/`
* **Never** generate or edit new content directly in live folders.

Any write to live folders outside `sync_logic.py` and its rules is a **system violation**.

---

# âš ï¸ SECTION 2 â€” DROP-ZONE RULES (MANDATORY)

---

The **ONLY** location where updater scripts may create, modify, or delete files is:

```text
update_engine/updates/
```

This directory is the **DROP ZONE**.

Any script that attempts file operations **outside** this directory is **immediately in violation**.

## 2.1 â€” Mandatory Drop-Zone Initialization File

This file is **required**:

```text
update_engine/updates/__init__.py
```

It **must contain ONLY**:

```python
import sys
sys.dont_write_bytecode = True
```

If it is missing or modified incorrectly â†’ **IMMEDIATE UPDATE FAILURE**.

---

# âš ï¸ SECTION 3 â€” BULK_UPDATE.PY (PRIMARY DROP POINT)

---

`bulk_update.py` is the **ONLY** script allowed to generate or modify staged files for an update.

Its location is:

```text
update_engine/updates/bulk_update.py
```

## 3.1 â€” Mandatory Header

`bulk_update.py` **MUST** begin exactly as follows:

```python
#!/usr/bin/env python3
import sys
sys.dont_write_bytecode = True
```

If this header is missing or changed â†’ **IMMEDIATE REJECTION**.

## 3.2 â€” Forbidden Inside bulk_update.py

`bulk_update.py` **MUST NOT**:

* âŒ Import anything from `update_engine.updater_core` (no `update_core`, `sync_logic`, `utils`, etc.)
* âŒ Generate or inject timestamps (these are handled by the core)
* âŒ Add comments in `.json` files
* âŒ Touch or reference live folders (`Frontend/`, `Backend/`)
* âŒ Use absolute paths (must use paths relative to the drop zone)
* âŒ Contain logic that depends on the current live project state

All file output **must** target the `update_engine/updates/` subtree.

## 3.3 â€” Mandatory Bulk Logging

For every file generated or overwritten by `bulk_update.py`, there must be a matching console log line:

```text
[BULK]   relative/path/to/file
```

At the end of `bulk_update.py` execution, there **MUST** be:

```text
[BULK] Successfully processed <N> files
```

Where `<N>` is the exact count of files that were written or overwritten.

If:

* Any updated file is missing from `[BULK]` logs, or
* The final `<N>` does not match the number of logged files,

â†’ the update is considered a **FAILURE**.

## 3.4 â€” Required Visual Lock Format (All Generated Files)

All files generated by `bulk_update.py` **must** contain a top-of-file â€œvisual lockâ€ comment.

### For Python (`.py`) files:

```python
# ğŸš¨ DO NOT MODIFY THIS FILE OUTSIDE THE RULES IN README_UPDATER.txt
# ğŸš« NO IMPORT OVERRIDES | ğŸš« NO PATH ASSUMPTIONS | âœ… ABSOLUTE STRUCTURE COMPLIANCE
```

### For JavaScript (`.js`, `.jsx`, `.ts`, `.tsx`) files:

```javascript
// ğŸš¨ DO NOT MODIFY THIS FILE OUTSIDE THE RULES IN README_UPDATER.txt
// ğŸš« NO IMPORT OVERRIDES | ğŸš« NO PATH ASSUMPTIONS | âœ… ABSOLUTE STRUCTURE COMPLIANCE
```

### For CSS (`.css`, `.scss`) files:

```css
/* ğŸš¨ DO NOT MODIFY THIS FILE OUTSIDE THE RULES IN README_UPDATER.txt */
/* ğŸš« NO IMPORT OVERRIDES | ğŸš« NO PATH ASSUMPTIONS | âœ… ABSOLUTE STRUCTURE COMPLIANCE */
```

Any missing or altered lock header is a violation.

---

# âš ï¸ SECTION 4 â€” TIMESTAMP ENFORCEMENT RULES

---

The updater core is responsible for automated timestamp insertion.

### 4.1 â€” File Types THAT MUST Receive Timestamps

The following text-based file types **must** receive timestamps when updated:

```text
.py
.js .jsx .ts .tsx
.css .scss
.html
.md
```

### 4.2 â€” Absolute Skip List (NEVER Timestamp)

Timestamps **MUST NEVER** be applied to:

```text
.png .jpg .jpeg .gif .ico .svg
.json
Binary files
Any non-text assets
```

If the updater attempts to insert a timestamp into any of these â†’ **IMMEDIATE FAILURE**.

### 4.3 â€” Timestamp Format by File Type

| Extension                    | Format                                    |
| ---------------------------- | ----------------------------------------- |
| `.py`                        | `# TIMESTAMP: YYYY-MM-DD_HH-MM-SS`        |
| `.js`, `.jsx`, `.ts`, `.tsx` | `/* TIMESTAMP: YYYY-MM-DD_HH-MM-SS */`    |
| `.css`, `.scss`              | `/* TIMESTAMP: YYYY-MM-DD_HH-MM-SS */`    |
| `.html`                      | `<!-- TIMESTAMP: YYYY-MM-DD_HH-MM-SS -->` |
| `.md`                        | `<!-- TIMESTAMP: YYYY-MM-DD_HH-MM-SS -->` |
| `.json`                      | **NO COMMENTS ALLOWED** (no timestamps)   |

All timestamps must be valid, properly closed comment blocks and **MUST NOT** be manually inserted in scripts. Timestamping is handled by the updater core only.

---

# âš ï¸ SECTION 5 â€” MANDATORY TEST FILE ENFORCEMENT (CRITICAL)

---

There are **ONLY TWO** mandatory updater test files. Their purpose is to:

* Validate update detection
* Validate sync behavior
* Validate timestamp injection
* Validate log correctness

## 5.1 â€” Official Mandatory Test File Locations

### In the **updates** folder (drop zone):

```text
update_engine/updates/Frontend/src/components/tests/test_update.js
update_engine/updates/Backend/tests/test_update.py
```

### In the **live** codebase (synced targets):

```text
Frontend/src/components/tests/test_update.js
Backend/tests/test_update.py
```

These four files (two in updates, two in live) are **non-negotiable**.

## 5.2 â€” RULE A â€” bulk_update.py MUST Overwrite Updates Test Files EVERY RUN

On **every** updater run:

* `bulk_update.py` **MUST** overwrite:

  ```text
  update_engine/updates/Frontend/src/components/tests/test_update.js
  update_engine/updates/Backend/tests/test_update.py
  ```

These are the **canonical test files** for the updater.

If **any** of the following happen:

* The test files in the updates folder are not rewritten
* They are missing timestamps
* They do not appear in `[BULK]` logs
* They are missing or malformed

â†’ The update cycle is considered a **FAILURE**.

## 5.3 â€” RULE B â€” bulk_update.py MUST NOT Touch Live Test Files

`bulk_update.py` is **forbidden** from writing directly to:

```text
Frontend/src/components/tests/test_update.js
Backend/tests/test_update.py
```

The live test files are updated **ONLY** via `sync_logic.py`, never by bulk generation.

## 5.4 â€” RULE C â€” sync_logic MUST Overwrite the Live Test Files

`sync_logic.py` must always:

* Detect modified test files in `update_engine/updates/â€¦`
* Copy them into the corresponding live locations
* Ensure timestamps are preserved

If live test files do not change when updates are staged, sync behavior is considered a **failure**.

---

# âš ï¸ SECTION 6 â€” DASHBOARD TEST FILES (STRICT IGNORE RULE)

---

All other test files (React, TradingView, UI snapshot, etc.) are **NOT** updater test files.

Examples include (but are not limited to):

```text
Frontend/src/components/Controls/tests/Controls.test.js
Frontend/src/components/Trading/tests/TradingPanel.spec.js
Frontend/src/components/TradingView/tests/TradingView.test.js
Frontend/src/components/TradingView/tests/TradingViewChart.spec.js
Frontend/src/components/TradingView/tests/TradingViewDock.spec.js
Frontend/src/tests/header_update_test.py
Frontend/src/tests/frontend_test_update.txt
... and any other *.test.js, *.spec.js, *.py, *.txt related to UI/dashboard
```

The updater must:

* âŒ NEVER require these files
* âŒ NEVER treat these as mandatory
* âŒ NEVER timestamp them specifically
* âŒ NEVER validate them as part of updater health
* âŒ NEVER log them in updater-specific logs

They are normal project files, and may be synced when changed, but:
**they are not part of the updaterâ€™s critical validation.**

If any updater component tries to enforce rules on these dashboard test files â†’ **HARD SYSTEM VIOLATION**.

---

# âš ï¸ SECTION 7 â€” ORGANIC SCANNING ONLY

---

All updater logic for file detection must use **organic recursive scanning**, not hardcoded file lists.

## Strict Prohibitions:

* âŒ No hardcoded filenames
* âŒ No hardcoded â€œalways includeâ€ lists (beyond the two mandatory test files described in Section 5)
* âŒ No hardcoded skip logic except what is explicitly described in this README

The updater must:

* Detect new files
* Detect modified files
* Detect deleted files
* Detect subdirectories
* Detect timestamp placeholders

â€¦automatically, by walking:

```text
update_engine/updates/Frontend/
update_engine/updates/Backend/
```

---

# âš ï¸ SECTION 8 â€” EXECUTION WORKFLOW (LOCKED ORDER)

---

The updater pipeline **MUST** run in this exact sequence:

1. **Logger Initialization**
2. **Backup Logic** (back up `update_engine/updates/` only)
3. **Bulk Logic** (execute `bulk_update.py`)
4. **update_core.py** (handle detection, timestamps, and core update logic)
5. **sync_logic.py** (sync staged files from updates â†’ live)
6. **update_counter.py** (increment update cycle counter)
7. **Logger Finalization** (write logs, print summary)

If any step:

* Runs out of order
* Runs twice when it should not
* Runs in parallel with another step

â†’ the update is considered a **FAILURE**.

No script is allowed to rearrange or bypass this order.

---

# âš ï¸ SECTION 9 â€” BACKUP RULES (STRICT)

---

Backups exist to preserve the state of the **drop zone**.

## 9.1 â€” Backups MUST Contain ONLY:

```text
update_engine/updates/**
```

## 9.2 â€” Backups MUST NOT Contain:

```text
Frontend/logs/
Backend/backups/
node_modules/
__pycache__/
*.pyc
.git/
```

Backups are written to:

```text
Backend/backups/
```

This ensures:

* Faster backup creation
* Smaller backup archives
* Clean restoration (no nested logs/backups)
* No backup-of-backup recursion

---

# âš ï¸ SECTION 10 â€” LOGGING RULES (MANDATORY)

---

Terminal output **MUST** include:

* `[INFO]` line indicating forced update cycle and cycle number
* `[BACKUP]` line indicating where the backup ZIP was created
* Full `[BULK]` lines for each updated file from `bulk_update.py`
* `[INFO]` line confirming how many files were updated by the core
* `[SYNC]` line summarizing file sync counts
* `[COUNTER]` line showing the new cycle number
* `[LOG]` line showing the JSON log file path in `Frontend/logs/`
* `[DONE]` line with total runtime

Terminal output **MUST NOT** include:

* Lists of every scanned file
* Unchanged file logs
* Dashboard test files
* Noisy or redundant diagnostics

Only files that are actually updated should be logged (plus summary lines).

### Expected Terminal Output Pattern (Example):

```text
[INFO] Forcing update cycle #0263
[BACKUP] Created: Backend/backups/updates_backup_2025-12-10_14-23-15.zip

[BULK] Executing bulk_update.py ...
[BULK]   Frontend/src/App.js
[BULK]   Frontend/src/index.js
[BULK]   Frontend/serve.json
[BULK]   Frontend/src/components/tests/test_update.js
[BULK]   Backend/main.py
[BULK]   Backend/api/api_routes.py
[BULK]   Backend/config/__init__.py
[BULK]   Backend/tests/test_update.py
[BULK] Successfully processed 8 files

[INFO] Core update completed: 8 files updated
[SYNC] File synchronization completed (8 file(s))
[COUNTER] Cycle: #0263
[LOG]  Frontend/logs/update_log_2025-12-10_14-23-15.json
[DONE] Update completed in 2.1 s
```

Any major deviation from this pattern must be investigated.

---

# âš ï¸ SECTION 11 â€” ENVIRONMENT ISOLATION (MANDATORY)

---

To prevent bytecode pollution and keep execution clean, the following are enforced:

## 11.1 â€” `.pythonrc.py`

Path:

```text
C:\Users\MMAPR\.pythonrc.py
```

Contents:

```python
import sys
sys.dont_write_bytecode = True
```

## 11.2 â€” VSCode Terminal Settings

Path:

```text
Liberty AI Trade/.vscode/settings.json
```

Contents:

```json
{
  "terminal.integrated.env.windows": {
    "PYTHONSTARTUP": "%USERPROFILE%\\.pythonrc.py"
  }
}
```

## 11.3 â€” `run_updater.bat`

Path:

```text
Liberty AI Trade/run_updater.bat
```

Contents:

```bat
@echo off
setlocal
for /d /r %%d in (__pycache__) do if exist "%%d" rd /s /q "%%d"
python -m update_engine.updater_core.update_manager --force %*
endlocal
```

Any failure to enforce bytecode suppression in the drop zone requires:

* Immediate cleanup of `__pycache__` folders
* Re-running the updater from a clean state

---

# âš ï¸ SECTION 12 â€” PROTECTED FILES

---

The following files are **protected** and MUST NEVER be moved, renamed, deleted, or manually modified outside updater rules:

```text
update_engine/Launch_Liberty_AI_Bot.bat
update_engine/update_counter.dat
update_engine/updates/__init__.py
Frontend/src/components/tests/test_update.js
Backend/tests/test_update.py
README_UPDATER.txt
```

`Launch_Liberty_AI_Bot.bat`:

* Lives under `update_engine/`
* Starts both frontend and backend in correct order
* Must always remain in this location

---

# âš ï¸ SECTION 13 â€” PROJECT STRUCTURE (LOCKED)

---

**This structure is locked. Do NOT rename, relocate, or modify any paths listed here.**
You have already validated this structure; it is now the reference.

```text
Liberty AI Trade/
â”‚
â”œâ”€â”€ Frontend/
â”‚   â”œâ”€â”€ logs/                           # âœ… Updater write zone
â”‚   â”‚   â””â”€â”€ update_log_YYYY-MM-DD_HH-MM-SS.json
â”‚   â”‚
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”‚
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ assets/
â”‚       â”‚   â””â”€â”€ (images, backgrounds, logos, etc.)
â”‚       â”‚
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ Common/
â”‚       â”‚   â”‚   â””â”€â”€ SharedAITradingToggle.js
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ Controls/
â”‚       â”‚   â”‚   â”œâ”€â”€ Actions/
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ BotActions.css
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ BotActions.js
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ AI/
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ AIControls.css
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ AIControls.js
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ System/
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ HistoryPanel.css
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ HistoryPanel.js
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ HoldingsPanel.css
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ HoldingsPanel.js
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SystemControls.css
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SystemControls.js
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ TelegramControls.css
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ TelegramControls.js
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ tests/              # Dashboard tests (IGNORE for updater)
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ Controls.test.js
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â””â”€â”€ Trading/
â”‚       â”‚   â”‚       â”œâ”€â”€ TradingControls.js
â”‚       â”‚   â”‚       â”œâ”€â”€ Controls.css
â”‚       â”‚   â”‚       â”œâ”€â”€ Controls.js
â”‚       â”‚   â”‚       â”œâ”€â”€ ControlsPanel.css
â”‚       â”‚   â”‚       â”œâ”€â”€ ControlsPanel.js
â”‚       â”‚   â”‚       â”œâ”€â”€ ControlsSection.css
â”‚       â”‚   â”‚       â””â”€â”€ ControlsSection.js
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ Header/
â”‚       â”‚   â”‚   â”œâ”€â”€ Header.css
â”‚       â”‚   â”‚   â”œâ”€â”€ Header.js
â”‚       â”‚   â”‚   â””â”€â”€ index.js
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ Performance/
â”‚       â”‚   â”‚   â”œâ”€â”€ PerformancePanel.css
â”‚       â”‚   â”‚   â””â”€â”€ PerformancePanel.js
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ tests/                  # Includes mandatory updater test
â”‚       â”‚   â”‚   â”œâ”€â”€ test_update.js      # âœ… MANDATORY FRONTEND TEST FILE (live)
â”‚       â”‚   â”‚   â”œâ”€â”€ header_update_test.py
â”‚       â”‚   â”‚   â”œâ”€â”€ TradingControls.test.js
â”‚       â”‚   â”‚   â”œâ”€â”€ TradingViewControlsSnapshot.test.js
â”‚       â”‚   â”‚   â”œâ”€â”€ ChartSection.test.js
â”‚       â”‚   â”‚   â”œâ”€â”€ frontend_test_update.txt
â”‚       â”‚   â”‚   â””â”€â”€ __init__.py
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ Trading/
â”‚       â”‚   â”‚   â”œâ”€â”€ shared/
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ SharedAITradingMapper.js
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ Sidebar/
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ TradingSidebar.css
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ TradingSidebar.js
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ TradingSidebar.spec.js
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ tests/              # Dashboard tests (IGNORE)
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ TradingPanel.spec.js
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ TradingControls.css
â”‚       â”‚   â”‚   â”œâ”€â”€ TradingControls.js
â”‚       â”‚   â”‚   â”œâ”€â”€ TradingPanel.css
â”‚       â”‚   â”‚   â””â”€â”€ TradingPanel.js
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ TradingView/
â”‚       â”‚       â”œâ”€â”€ shared/
â”‚       â”‚       â”‚   â””â”€â”€ SharedAITradingMapper.js
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ tests/              # Dashboard tests (IGNORE)
â”‚       â”‚       â”‚   â”œâ”€â”€ TradingView.test.js
â”‚       â”‚       â”‚   â”œâ”€â”€ TradingViewChart.spec.js
â”‚       â”‚       â”‚   â””â”€â”€ TradingViewDock.spec.js
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ AIExplanationEngine.js
â”‚       â”‚       â”œâ”€â”€ AIExplanationPanel.css
â”‚       â”‚       â”œâ”€â”€ AIExplanationPanel.js
â”‚       â”‚       â”œâ”€â”€ AIHeatmapOverlay.css
â”‚       â”‚       â”œâ”€â”€ AIHeatmapOverlay.js
â”‚       â”‚       â”œâ”€â”€ AIIndicatorLayer.css
â”‚       â”‚       â”œâ”€â”€ AIIndicatorLayer.js
â”‚       â”‚       â”œâ”€â”€ AIOverlayEngine.js
â”‚       â”‚       â”œâ”€â”€ AIPredictionEngine.js
â”‚       â”‚       â”œâ”€â”€ AISignalOverlay.js
â”‚       â”‚       â”œâ”€â”€ AISupportResistance.css
â”‚       â”‚       â”œâ”€â”€ AISupportResistance.js
â”‚       â”‚       â”œâ”€â”€ AITendencyCloud.css
â”‚       â”‚       â”œâ”€â”€ AITendencyCloud.js
â”‚       â”‚       â”œâ”€â”€ AITradeRouter.js
â”‚       â”‚       â”œâ”€â”€ ChartContainer.css
â”‚       â”‚       â”œâ”€â”€ ChartContainer.js
â”‚       â”‚       â”œâ”€â”€ DockManager.css
â”‚       â”‚       â”œâ”€â”€ DockManager.js
â”‚       â”‚       â”œâ”€â”€ OverlayManager.css
â”‚       â”‚       â”œâ”€â”€ OverlayManager.js
â”‚       â”‚       â”œâ”€â”€ PredictionFeed.js
â”‚       â”‚       â”œâ”€â”€ SentimentMeter.css
â”‚       â”‚       â”œâ”€â”€ SentimentMeter.js
â”‚       â”‚       â”œâ”€â”€ SentimentSourceSelector.css
â”‚       â”‚       â”œâ”€â”€ SentimentSourceSelector.js
â”‚       â”‚       â”œâ”€â”€ StrategyIndicator.css
â”‚       â”‚       â”œâ”€â”€ StrategyIndicator.js
â”‚       â”‚       â”œâ”€â”€ StrategyRouter.js
â”‚       â”‚       â”œâ”€â”€ SymbolDetector.css
â”‚       â”‚       â”œâ”€â”€ SymbolDetector.js
â”‚       â”‚       â”œâ”€â”€ SymbolParser.js
â”‚       â”‚       â”œâ”€â”€ TokenConfidence.css
â”‚       â”‚       â”œâ”€â”€ TokenConfidence.js
â”‚       â”‚       â”œâ”€â”€ TokenRouter.js
â”‚       â”‚       â”œâ”€â”€ TokenWatcher.css
â”‚       â”‚       â”œâ”€â”€ TokenWatcher.js
â”‚       â”‚       â”œâ”€â”€ TradingViewChartSection.css
â”‚       â”‚       â”œâ”€â”€ TradingViewChartSection.js
â”‚       â”‚       â”œâ”€â”€ TradingViewController.css
â”‚       â”‚       â”œâ”€â”€ TradingViewController.js
â”‚       â”‚       â”œâ”€â”€ TradingViewDock.css
â”‚       â”‚       â”œâ”€â”€ TradingViewDock.js
â”‚       â”‚       â”œâ”€â”€ TradingViewFloating.css
â”‚       â”‚       â”œâ”€â”€ TradingViewFloating.js
â”‚       â”‚       â”œâ”€â”€ TradingViewMarkers.css
â”‚       â”‚       â”œâ”€â”€ TradingViewMarkers.js
â”‚       â”‚       â”œâ”€â”€ TradingViewPanel.css
â”‚       â”‚       â”œâ”€â”€ TradingViewPanel.js
â”‚       â”‚       â”œâ”€â”€ TradingViewSection.css
â”‚       â”‚       â””â”€â”€ TradingViewWidget.js
â”‚       â”‚
â”‚       â”œâ”€â”€ tests/
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ ChartSection.test.js
â”‚       â”‚   â”œâ”€â”€ frontend_test_update.txt
â”‚       â”‚   â”œâ”€â”€ header_update_test.py
â”‚       â”‚   â”œâ”€â”€ test_update.js          # (duplicate location, but updater cares about components/tests)
â”‚       â”‚   â”œâ”€â”€ test_update.py
â”‚       â”‚   â”œâ”€â”€ TradingControls.test.js
â”‚       â”‚   â””â”€â”€ TradingViewControlsSnapshot.test.js
â”‚       â”‚
â”‚       â”œâ”€â”€ App.css
â”‚       â”œâ”€â”€ App.js
â”‚       â”œâ”€â”€ index.css
â”‚       â”œâ”€â”€ index.js
â”‚       â””â”€â”€ styles.css
â”‚
â”‚   â””â”€â”€ serve.json
â”‚
â”œâ”€â”€ Backend/
â”‚   â”œâ”€â”€ backups/                        # âœ… Updater write zone
â”‚   â”‚   â””â”€â”€ updates_backup_YYYY-MM-DD_HH-MM-SS.zip
â”‚   â”‚
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ api_routes.py
â”‚   â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ __init__.py                 # May be auto-managed by updater
â”‚   â”‚   â””â”€â”€ config.py
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â””â”€â”€ test_update.py              # âœ… MANDATORY BACKEND TEST FILE (live)
â”‚   â”‚
â”‚   â””â”€â”€ main.py
â”‚
â”œâ”€â”€ update_engine/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ Launch_Liberty_AI_Bot.bat       # âš ï¸ Protected launcher
â”‚   â”œâ”€â”€ update_counter.dat              # âš ï¸ Protected counter
â”‚   â”‚
â”‚   â”œâ”€â”€ updater_core/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ backup_logic.py
â”‚   â”‚   â”œâ”€â”€ bulk_logic.py
â”‚   â”‚   â”œâ”€â”€ log_logic.py
â”‚   â”‚   â”œâ”€â”€ scan_logic.py
â”‚   â”‚   â”œâ”€â”€ sync_logic.py
â”‚   â”‚   â”œâ”€â”€ update_core.py
â”‚   â”‚   â”œâ”€â”€ update_counter.py
â”‚   â”‚   â”œâ”€â”€ update_manager.py
â”‚   â”‚   â””â”€â”€ utils.py
â”‚   â”‚
â”‚   â””â”€â”€ updates/                        # ğŸ¯ DROP ZONE
â”‚       â”œâ”€â”€ __init__.py                 # âš ï¸ MANDATORY
â”‚       â”œâ”€â”€ bulk_update.py              # ğŸ¯ PRIMARY DROP POINT
â”‚       â”‚
â”‚       â”œâ”€â”€ Frontend/
â”‚       â”‚   â”œâ”€â”€ package.json
â”‚       â”‚   â”œâ”€â”€ package-lock.json
â”‚       â”‚   â”œâ”€â”€ public/
â”‚       â”‚   â”‚   â””â”€â”€ index.html
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ src/
â”‚       â”‚       â”œâ”€â”€ assets/
â”‚       â”‚       â”œâ”€â”€ components/
â”‚       â”‚       â”‚   â””â”€â”€ tests/
â”‚       â”‚       â”‚       â””â”€â”€ test_update.js  # âœ… MANDATORY FRONTEND TEST FILE (updates)
â”‚       â”‚       â”œâ”€â”€ styles/
â”‚       â”‚       â”œâ”€â”€ tests/
â”‚       â”‚       â”œâ”€â”€ App.css
â”‚       â”‚       â”œâ”€â”€ App.js
â”‚       â”‚       â”œâ”€â”€ index.css
â”‚       â”‚       â”œâ”€â”€ index.js
â”‚       â”‚       â””â”€â”€ styles.css
â”‚       â”‚
â”‚       â””â”€â”€ Backend/
â”‚           â”œâ”€â”€ api/
â”‚           â”‚   â”œâ”€â”€ __init__.py
â”‚           â”‚   â””â”€â”€ api_routes.py
â”‚           â”‚
â”‚           â”œâ”€â”€ config/
â”‚           â”‚   â””â”€â”€ __init__.py         # Temporary sync file if needed
â”‚           â”‚
â”‚           â”œâ”€â”€ models/
â”‚           â”œâ”€â”€ routes/
â”‚           â”‚
â”‚           â”œâ”€â”€ tests/
â”‚           â”‚   â””â”€â”€ test_update.py      # âœ… MANDATORY BACKEND TEST FILE (updates)
â”‚           â”‚
â”‚           â””â”€â”€ main.py
â”‚
â”œâ”€â”€ .vscode/
â”‚   â””â”€â”€ settings.json                   # Terminal isolation
â”‚
â”œâ”€â”€ run_updater.bat
â”œâ”€â”€ README_UPDATER.txt                  # âš ï¸ THIS FILE (MASTER RULESET)
â””â”€â”€ README_Assistant_Export.txt
```

---

# âš ï¸ SECTION 14 â€” IMMEDIATE REJECTION TRIGGERS

---

Any of the following conditions **REQUIRES** the update to stop immediately:

### File Structure Violations

* Any write to live folders (except:

  * `Backend/backups/`
  * `Frontend/logs/`
* Missing mandatory test files (Section 5)
* `__pycache__` or `.pyc` present in `update_engine/updates/`
* Missing `update_engine/updates/__init__.py`

### bulk_update.py Violations

* Missing required header (`sys.dont_write_bytecode = True`)
* Importing updater internals
* Manually adding timestamps
* Missing `[BULK]` print statements
* Missing final `[BULK] Successfully processed <N> files` line

### Drop-Zone Script Violations

* Any script in `update_engine/updates/` missing `sys.dont_write_bytecode = True`
* Helper modules executing logic at import time
* Helper modules missing `if __name__ == "__main__"` guards when appropriate

### Dashboard Test File Processing

* Any attempt to:

  * Enforce
  * Validate
  * Timestamp
  * Require
  * Log as mandatory

â€¦for dashboard test files (Section 6) is a **hard violation**.

### Timestamp Violations

* Timestamp attempted on image/binary/JSON files
* Unclosed timestamp comment blocks
* Manual timestamp creation

### JSON Violations

* Any comments in `.json` files (`//` or `/* */`)
* Invalid JSON syntax

### Console Output Violations

* `"0 file(s) updated"` when files were staged
* File count mismatch between `[BULK]` and `[SYNC]`
* Missing cycle counter increment
* Missing backup creation log
* Missing log file creation
* Completely silent updates

### Workflow Violations

* Steps running out of order (Section 8)
* Missing update counter increment
* Hardcoded filenames beyond the mandatory test files
* Hardcoded skip logic not defined in this README
* Manual â€œfixesâ€ applied directly to live folders

**Any of these â†’ UPDATE FAILURE.**

---

# âš ï¸ SECTION 15 â€” FINAL EXECUTION COMMANDS (MANDATORY)

---

Updates MUST be run from the **project root**:

```bash
python -m update_engine.updater_core.update_manager --force
```

or:

```bash
run_updater.bat
```

Running from any other directory or context is considered a misconfiguration and may result in a failed or partial update.

---

# âš ï¸ SECTION 16 â€” EMERGENCY RECOVERY PROCEDURE

---

If an update fails or corrupts the system, use this recovery procedure.

## Step 1: Immediate Restoration

```bash
cd "Liberty AI Trade/Backend/backups"
# List backups
dir
# Extract latest backup
# (replace with actual timestamp)
tar -xf updates_backup_YYYY-MM-DD_HH-MM-SS.zip -C ../../update_engine/
```

(Use `tar -xf` or `unzip` depending on archive format.)

## Step 2: Fix Common Issues

1. **Remove JSON comments**
   Search all `.json` in `update_engine/updates/` for `//` or `/* */` and remove comments.

2. **Fix file paths**
   Ensure all paths are forward-slash-based and match the structure in Section 13.

3. **Verify test files**
   Confirm these files exist and are correctly formatted:

   ```text
   update_engine/updates/Frontend/src/components/tests/test_update.js
   update_engine/updates/Backend/tests/test_update.py
   Frontend/src/components/tests/test_update.js
   Backend/tests/test_update.py
   ```

4. **Check bulk_update.py**
   Ensure:

   * It has the required header
   * It logs `[BULK]   <path>` for each generated file
   * It ends with `[BULK] Successfully processed <N> files`

5. **Remove bytecode**
   Delete all `__pycache__` folders and `.pyc` files from `update_engine/updates/`.

## Step 3: Re-execute Update

```bash
cd "Liberty AI Trade"
python -m update_engine.updater_core.update_manager --force
```

## Step 4: Verify Success

Ensure the terminal output pattern matches Section 10 (logging rules) and that backup/log paths are correct.

---

# âš ï¸ SECTION 17 â€” TROUBLESHOOTING CHECKLIST

---

Before reporting any issue, verify:

* [ ] `update_engine/updates/__init__.py` exists and contains bytecode suppression
* [ ] ALL drop-zone scripts start with `sys.dont_write_bytecode = True`
* [ ] No `__pycache__` folders or `.pyc` files exist under `update_engine/updates/`
* [ ] All staged files are under `update_engine/updates/Frontend/` or `update_engine/updates/Backend/`
* [ ] `bulk_update.py` contains **only** file generation logic (no updater imports)
* [ ] Every file written by `bulk_update.py` has a corresponding `[BULK]   <path>` line
* [ ] JSON files contain **zero comments**
* [ ] Mandatory test files (Section 5) are present and updated
* [ ] You are running from project root with correct command
* [ ] No manual timestamps exist in any file
* [ ] All required directories are created with `os.makedirs(..., exist_ok=True)`
* [ ] Helper modules use `if __name__ == "__main__":` guards as needed
* [ ] Visual lock headers are present on generated files

---

# âš ï¸ SECTION 18 â€” DROP-ZONE SANITY CHECK

---

The updater performs pre-flight checks before executing.

## Automatic Verification

The updater must:

* âœ… Confirm `update_engine/updates/__init__.py` exists
* âœ… Scan for any `__pycache__` or `.pyc` under `update_engine/updates/`
* âœ… Validate that **all** Python scripts in drop zone start with `sys.dont_write_bytecode = True`
* âœ… Abort with a clear error if any of the above checks fail

## Manual Verification Commands (For Windows / WSL / Git Bash):

```bash
# Check for bytecode contamination
find update_engine/updates -name "*.pyc" -o -name "__pycache__"

# Verify __init__.py exists
ls -la update_engine/updates/__init__.py

# Check script headers in drop-zone
head -3 update_engine/updates/*.py
```

---

# âš ï¸ SECTION 19 â€” SUCCESS INDICATORS

---

A successful update will show:

* âœ… Backup ZIP created under `Backend/backups/`
* âœ… `[BULK]` lines for each updated file from `bulk_update.py`
* âœ… Timestamp injection performed only where allowed
* âœ… `[SYNC]` confirms correct file count copied
* âœ… `[COUNTER]` prints an incremented cycle number
* âœ… `[LOG]` shows a valid JSON log file path in `Frontend/logs/`
* âœ… `[DONE]` shows a reasonable completion time
* âœ… No dashboard test files appear in updater logs
* âœ… Mandatory test files (Section 5) are updated on each run

If any of these are not true, the update cycle must be inspected.

---

# âš ï¸ SECTION 20 â€” CRITICAL PATH REFERENCE SUMMARY

---

## Key Directories:

* **Drop Zone**: `update_engine/updates/`
* **Live Frontend**: `Frontend/`
* **Live Backend**: `Backend/`
* **Backup Location**: `Backend/backups/`
* **Log Location**: `Frontend/logs/`

## Key Files:

* **Primary Drop Point**: `update_engine/updates/bulk_update.py`
* **Drop-Zone Init**: `update_engine/updates/__init__.py`
* **Updater Manager**: `update_engine/updater_core/update_manager.py`
* **Root Launcher**: `run_updater.bat`
* **Bot Launcher**: `update_engine/Launch_Liberty_AI_Bot.bat`
* **Mandatory Test Files**:

  * `update_engine/updates/Frontend/src/components/tests/test_update.js`
  * `update_engine/updates/Backend/tests/test_update.py`
  * `Frontend/src/components/tests/test_update.js`
  * `Backend/tests/test_update.py`

## Execution Commands (Final Reminder):

```bash
# From project root (Liberty AI Trade/)
python -m update_engine.updater_core.update_manager --force

# OR using batch file
run_updater.bat
```

---

# âœ”ï¸ README COMPLETED â€” ZERO-TOLERANCE MODE ACTIVE

---

This README represents the **final, locked, and enforceable** ruleset for the Liberty AI Trade Updater System.

No deviations, exceptions, or â€œinterpretationsâ€ are permitted.

* All file generation logic **must** be placed in `update_engine/updates/bulk_update.py`.
* The updater has **selective write permissions** only to:

  * `Backend/backups/`
  * `Frontend/logs/`
* Dashboard test files (`*.test.js`, `*.spec.js`, etc.) **MUST BE IGNORED** by the updater and never treated as mandatory.

Any violation of these rules is treated as a **failed update cycle** and must be corrected immediately.

```
```
